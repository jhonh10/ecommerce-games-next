{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Jessica Palacios/Desktop/Proyectos React/ecomemrce-next/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Jessica Palacios/Desktop/Proyectos React/ecomemrce-next/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { Icon } from 'semantic-ui-react';\nimport BasicLayout from '../layouts/BasicLayout';\nimport { useRouter } from 'next/router';\nimport { getMeApi } from '../api/user';\nimport useAuth from '../hooks/useAuth';\nimport ChangeNameForm from '../components/Account/ChangeNameForm';\nimport ChangeEmailForm from '../components/Account/ChangeEmailForm';\nimport ChangePasswordForm from '../components/Account/ChangePasswordForm';\nimport BasicModal from '../components/Modal/BasicModal';\nimport AdressForm from '../components/Account/AdressForm';\nimport ListAdress from '../components/Account/ListAdress/ListAdress';\nimport Seo from '../components/Seo';\nexport default function Account() {\n  var _useState = useState(undefined),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth,\n      logout = _useAuth.logout,\n      setReloadUser = _useAuth.setReloadUser;\n\n  var router = useRouter();\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getMeApi(logout);\n\n            case 2:\n              response = _context.sent;\n              setUser(response || null);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, [auth]);\n  if (user === undefined) return /*#__PURE__*/_jsx(\"div\", {\n    children: \"Cargando...\"\n  });\n\n  if (!auth && !user) {\n    router.replace(\"/\");\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(BasicLayout, {\n    className: \"account\",\n    children: [/*#__PURE__*/_jsx(Seo, {\n      title: \"Mi Cuenta\"\n    }), /*#__PURE__*/_jsx(Configuration, {\n      user: user,\n      logout: logout,\n      setReloadUser: setReloadUser\n    }), /*#__PURE__*/_jsx(Adresses, {})]\n  });\n}\n\nfunction Configuration(_ref2) {\n  var user = _ref2.user,\n      logout = _ref2.logout,\n      setReloadUser = _ref2.setReloadUser;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"account__configuration\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"title\",\n      children: \"Configuracion\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"data\",\n      children: [/*#__PURE__*/_jsx(ChangeNameForm, {\n        user: user,\n        logout: logout,\n        setReloadUser: setReloadUser\n      }), /*#__PURE__*/_jsx(ChangeEmailForm, {\n        user: user,\n        logout: logout,\n        setReloadUser: setReloadUser\n      }), /*#__PURE__*/_jsx(ChangePasswordForm, {\n        user: user,\n        logout: logout\n      })]\n    })]\n  });\n}\n\nfunction Adresses() {\n  var _useState2 = useState(false),\n      showModal = _useState2[0],\n      setShowModal = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      titleModal = _useState3[0],\n      setTitleModal = _useState3[1];\n\n  var _useState4 = useState(null),\n      formModal = _useState4[0],\n      setFormModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      reloadAdresess = _useState5[0],\n      setReloadAdresess = _useState5[1];\n\n  var openModal = function openModal(title, adress) {\n    setTitleModal(title);\n    setFormModal( /*#__PURE__*/_jsx(AdressForm, {\n      setReloadAdresess: setReloadAdresess,\n      setShowModal: setShowModal,\n      newAdress: adress ? false : true,\n      adress: adress || null\n    }));\n    setShowModal(true);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"account__adresses\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"title\",\n      children: [\"Direcciones de envio\", /*#__PURE__*/_jsx(Icon, {\n        name: \"plus\",\n        link: true,\n        onClick: function onClick() {\n          return openModal(\"Nueva direcci√≥n\");\n        }\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"data\",\n      children: /*#__PURE__*/_jsx(ListAdress, {\n        reloadAdresess: reloadAdresess,\n        setReloadAdresess: setReloadAdresess,\n        openModal: openModal\n      })\n    }), /*#__PURE__*/_jsx(BasicModal, {\n      show: showModal,\n      setShow: setShowModal,\n      title: titleModal,\n      children: formModal\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}