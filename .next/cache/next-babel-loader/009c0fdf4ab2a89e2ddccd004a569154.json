{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Jessica Palacios/Desktop/Proyectos React/ecomemrce-next/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Jessica Palacios/Desktop/Proyectos React/ecomemrce-next/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Jessica Palacios\\\\Desktop\\\\Proyectos React\\\\ecomemrce-next\\\\client\\\\pages\\\\search.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Loader } from 'semantic-ui-react';\nimport { size } from 'lodash';\nimport { useRouter } from 'next/router';\nimport BasicLayout from '../layouts/BasicLayout';\nimport { searchGameApi } from '../api/game';\nimport ListGames from '../components/ListGames';\nexport default function Search() {\n  _s();\n\n  var _useState = useState(null),\n      games = _useState[0],\n      setGames = _useState[1];\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  useEffect(function () {\n    document.getElementById(\"search-game\").focus();\n  }, []);\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(size(query.query) > 0)) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 3;\n              return searchGameApi(query.query);\n\n            case 3:\n              response = _context.sent;\n\n              if (size(response) > 0) {\n                setGames(response);\n              } else {\n                setGames([]);\n              }\n\n              _context.next = 8;\n              break;\n\n            case 7:\n              setGames([]);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(BasicLayout, {\n    className: \"search\",\n    children: [!games && /*#__PURE__*/_jsxDEV(Loader, {\n      active: true,\n      children: \"Buscando Juegos..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 24\n    }, this), games && size(games) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No se han encontrado juegos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this), size(games) > 0 && /*#__PURE__*/_jsxDEV(ListGames, {\n      games: games\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(ListGames, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Search, \"tJzY9szA2L+KqKSE2UEIISEmkH0=\", false, function () {\n  return [useRouter];\n});\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/Jessica Palacios/Desktop/Proyectos React/ecomemrce-next/client/pages/search.js"],"names":["useState","useEffect","Loader","size","useRouter","BasicLayout","searchGameApi","ListGames","Search","games","setGames","query","document","getElementById","focus","response"],"mappings":";;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,aAAT,QAA8B,aAA9B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AAIA,eAAe,SAASC,MAAT,GAAkB;AAAA;;AAAA,kBACHR,QAAQ,CAAC,IAAD,CADL;AAAA,MACtBS,KADsB;AAAA,MACfC,QADe;;AAAA,mBAEXN,SAAS,EAFE;AAAA,MAErBO,KAFqB,cAErBA,KAFqB;;AAI7BV,EAAAA,SAAS,CAAC,YAAM;AACZW,IAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAvC;AACH,GAFQ,EAEN,EAFM,CAAT;AAIAb,EAAAA,SAAS,CAAC,YAAM;AACZ,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACOE,IAAI,CAACQ,KAAK,CAACA,KAAP,CAAJ,GAAoB,CAD3B;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAE8BL,aAAa,CAACK,KAAK,CAACA,KAAP,CAF3C;;AAAA;AAEaI,cAAAA,QAFb;;AAGO,kBAAIZ,IAAI,CAACY,QAAD,CAAJ,GAAiB,CAArB,EAAwB;AACpBL,gBAAAA,QAAQ,CAACK,QAAD,CAAR;AACH,eAFD,MAEO;AACHL,gBAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;;AAPR;AAAA;;AAAA;AASOA,cAAAA,QAAQ,CAAC,EAAD,CAAR;;AATP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAYH,GAbQ,EAaN,CAACC,KAAD,CAbM,CAAT;AAeA,sBACI,QAAC,WAAD;AAAa,IAAA,SAAS,EAAC,QAAvB;AAAA,eACK,CAACF,KAAD,iBAAU,QAAC,MAAD;AAAQ,MAAA,MAAM,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADf,EAEKA,KAAK,IAAIN,IAAI,CAACM,KAAD,CAAJ,KAAgB,CAAzB,iBACG;AAAA,6BAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,YAHR,EAKKN,IAAI,CAACM,KAAD,CAAJ,GAAc,CAAd,iBAAmB,QAAC,SAAD;AAAW,MAAA,KAAK,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,YALxB,eAMI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH;;GAjCuBD,M;UAEFJ,S;;;KAFEI,M","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Loader } from 'semantic-ui-react'\r\nimport { size } from 'lodash';\r\nimport { useRouter } from 'next/router'\r\nimport BasicLayout from '../layouts/BasicLayout';\r\nimport { searchGameApi } from '../api/game';\r\nimport ListGames from '../components/ListGames';\r\n\r\n\r\n\r\nexport default function Search() {\r\n    const [games, setGames] = useState(null);\r\n    const { query } = useRouter();\r\n\r\n    useEffect(() => {\r\n        document.getElementById(\"search-game\").focus();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (size(query.query) > 0) {\r\n                const response = await searchGameApi(query.query)\r\n                if (size(response) > 0) {\r\n                    setGames(response);\r\n                } else {\r\n                    setGames([]);\r\n                }\r\n            } else {\r\n                setGames([]);\r\n            }\r\n        })()\r\n    }, [query]);\r\n\r\n    return (\r\n        <BasicLayout className=\"search\">\r\n            {!games && <Loader active>Buscando Juegos..</Loader>}\r\n            {games && size(games) === 0 && (\r\n                <div><h3>No se han encontrado juegos</h3></div>\r\n            )}\r\n            {size(games) > 0 && <ListGames games={games} />}\r\n            <ListGames />\r\n        </BasicLayout>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}