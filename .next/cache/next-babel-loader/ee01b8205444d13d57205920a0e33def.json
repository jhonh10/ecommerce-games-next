{"ast":null,"code":"import _defineProperty from \"C:/Users/Jessica Palacios/Desktop/ecomemrce-next/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/Users/Jessica Palacios/Desktop/ecomemrce-next/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Jessica Palacios/Desktop/ecomemrce-next/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Jessica Palacios\\\\Desktop\\\\ecomemrce-next\\\\client\\\\components\\\\Account\\\\AdressForm\\\\AdressForm.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState } from 'react';\nimport { Form, Button } from 'semantic-ui-react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-toastify';\nimport useAuth from '../../../hooks/useAuth';\nimport { createAdressApi, updateAdressApi } from '../../../api/adress';\nexport default function AdressForm(_ref) {\n  _s();\n\n  var setShowModal = _ref.setShowModal,\n      setReloadAdresess = _ref.setReloadAdresess,\n      newAdress = _ref.newAdress,\n      adress = _ref.adress;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth,\n      logout = _useAuth.logout;\n\n  var formik = useFormik({\n    initialValues: initialValues(adress),\n    validationSchema: Yup.object(validationSchema()),\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newAdress ? createAdress(formData) : updateAdress(formData);\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n\n  var createAdress = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(formData) {\n      var formDataTemp, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              formDataTemp = _objectSpread(_objectSpread({}, formData), {}, {\n                user: auth.idUser\n              });\n              _context2.next = 4;\n              return createAdressApi(formDataTemp, logout);\n\n            case 4:\n              response = _context2.sent;\n\n              if (!response) {\n                toast.warning(\"Error al crear la direccion\");\n                setLoading(false);\n              } else {\n                formik.resetForm();\n                setLoading(false);\n                setReloadAdresess(true);\n                setShowModal(false);\n              }\n\n              setLoading(false);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function createAdress(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var updateAdress = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(formData) {\n      var formDataTemp, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setLoading(true);\n              formDataTemp = _objectSpread(_objectSpread({}, formData), {}, {\n                user: auth.idUser\n              });\n              _context3.next = 4;\n              return updateAdressApi(adress._id, formDataTemp, logout);\n\n            case 4:\n              response = _context3.sent;\n\n              if (!response) {\n                toast.warning(\"Error al actulizar la direccion\");\n                setLoading(false);\n              } else {\n                formik.resetForm();\n                setReloadAdresess(true);\n                setLoading(false);\n                setShowModal(false);\n              }\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function updateAdress(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: formik.handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n      name: \"title\",\n      type: \"text\",\n      label: \"Titulo de la direccion\",\n      placeholder: \"Titulo de la direcci\\xF3n\",\n      onChange: formik.handleChange,\n      value: formik.values.title,\n      error: formik.errors.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      widths: \"equal\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n        name: \"name\",\n        type: \"text\",\n        label: \"Nombre y Apellido\",\n        placeholder: \"Nombre y Apellido\",\n        onChange: formik.handleChange,\n        value: formik.values.name,\n        error: formik.errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        name: \"adress\",\n        type: \"text\",\n        label: \"Direccion\",\n        placeholder: \"Direccion\",\n        onChange: formik.handleChange,\n        value: formik.values.adress,\n        error: formik.errors.adress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      widths: \"equal\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n        name: \"city\",\n        type: \"text\",\n        label: \"Ciudad\",\n        placeholder: \"Ciudad\",\n        onChange: formik.handleChange,\n        value: formik.values.city,\n        error: formik.errors.city\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        name: \"state\",\n        type: \"text\",\n        label: \"Estado/Provincia/Region\",\n        placeholder: \"Estado/Provincia/Region\",\n        onChange: formik.handleChange,\n        value: formik.values.state,\n        error: formik.errors.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      widths: \"equal\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n        name: \"postalCode\",\n        type: \"text\",\n        label: \"C\\xF3digo postal\",\n        placeholder: \"C\\xF3digo postal\",\n        onChange: formik.handleChange,\n        value: formik.values.postalCode,\n        error: formik.errors.postalCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        name: \"phone\",\n        type: \"text\",\n        label: \"Numero de telefono\",\n        placeholder: \"Numero de telefono\",\n        onChange: formik.handleChange,\n        value: formik.values.phone,\n        error: formik.errors.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: \"submit\",\n        type: \"submit\",\n        loading: loading,\n        disabled: loading,\n        children: newAdress ? \"Crear direccion\" : \"Actualizar Direccion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdressForm, \"BkUnv8FNno8qmabSJddp0ch3D54=\", false, function () {\n  return [useAuth, useFormik];\n});\n\n_c = AdressForm;\n\nfunction initialValues(adress) {\n  return {\n    title: (adress === null || adress === void 0 ? void 0 : adress.title) || \"\",\n    name: (adress === null || adress === void 0 ? void 0 : adress.name) || \"\",\n    adress: (adress === null || adress === void 0 ? void 0 : adress.adress) || \"\",\n    city: (adress === null || adress === void 0 ? void 0 : adress.city) || \"\",\n    state: (adress === null || adress === void 0 ? void 0 : adress.state) || \"\",\n    postalCode: (adress === null || adress === void 0 ? void 0 : adress.postalCode) || \"\",\n    phone: (adress === null || adress === void 0 ? void 0 : adress.postalCode) || \"\"\n  };\n}\n\n;\n\nfunction validationSchema() {\n  return {\n    title: Yup.string().required(true),\n    name: Yup.string().required(true),\n    adress: Yup.string().required(true),\n    city: Yup.string().required(true),\n    state: Yup.string().required(true),\n    postalCode: Yup.string().required(true),\n    phone: Yup.string().required(true)\n  };\n}\n\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdressForm\");","map":{"version":3,"sources":["C:/Users/Jessica Palacios/Desktop/ecomemrce-next/client/components/Account/AdressForm/AdressForm.js"],"names":["useState","Form","Button","useFormik","Yup","toast","useAuth","createAdressApi","updateAdressApi","AdressForm","setShowModal","setReloadAdresess","newAdress","adress","loading","setLoading","auth","logout","formik","initialValues","validationSchema","object","onSubmit","formData","createAdress","updateAdress","formDataTemp","user","idUser","response","warning","resetForm","_id","handleSubmit","handleChange","values","title","errors","name","city","state","postalCode","phone","string","required"],"mappings":"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","sourcesContent":["import { useState } from 'react';\r\nimport { Form, Button } from 'semantic-ui-react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { toast } from 'react-toastify'\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { createAdressApi, updateAdressApi } from '../../../api/adress'\r\n\r\n\r\nexport default function AdressForm({ setShowModal, setReloadAdresess, newAdress, adress }) {\r\n    const [loading, setLoading] = useState(false);\r\n    const { auth, logout } = useAuth();\r\n\r\n    const formik = useFormik({\r\n        initialValues: initialValues(adress),\r\n        validationSchema: Yup.object(validationSchema()),\r\n        onSubmit: async (formData) => {\r\n            newAdress ? createAdress(formData) : updateAdress(formData)\r\n        }\r\n    });\r\n\r\n    const createAdress = async (formData) => {\r\n        setLoading(true);\r\n        const formDataTemp = {\r\n            ...formData,\r\n            user: auth.idUser\r\n        };\r\n        const response = await createAdressApi(formDataTemp, logout)\r\n        if (!response) {\r\n            toast.warning(\"Error al crear la direccion\")\r\n            setLoading(false)\r\n        } else {\r\n            formik.resetForm();\r\n            setLoading(false);\r\n            setReloadAdresess(true);\r\n            setShowModal(false);\r\n        }\r\n        setLoading(false);\r\n\r\n    }\r\n\r\n    const updateAdress = async (formData) => {\r\n        setLoading(true);\r\n        const formDataTemp = {\r\n            ...formData,\r\n            user: auth.idUser,\r\n        };\r\n        const response = await updateAdressApi(adress._id, formDataTemp, logout)\r\n        if(!response) {\r\n            toast.warning(\"Error al actulizar la direccion\");\r\n            setLoading(false);\r\n        }else{\r\n            formik.resetForm();\r\n            setReloadAdresess(true);\r\n            setLoading(false);\r\n            setShowModal(false);\r\n        }\r\n    }\r\n    return (\r\n        <Form onSubmit={formik.handleSubmit}>\r\n            <Form.Input\r\n                name=\"title\"\r\n                type=\"text\"\r\n                label=\"Titulo de la direccion\"\r\n                placeholder=\"Titulo de la dirección\"\r\n                onChange={formik.handleChange}\r\n                value={formik.values.title}\r\n                error={formik.errors.title}\r\n            />\r\n\r\n            <Form.Group widths=\"equal\">\r\n                <Form.Input\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    label=\"Nombre y Apellido\"\r\n                    placeholder=\"Nombre y Apellido\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.name}\r\n                    error={formik.errors.name}\r\n                />\r\n                <Form.Input\r\n                    name=\"adress\"\r\n                    type=\"text\"\r\n                    label=\"Direccion\"\r\n                    placeholder=\"Direccion\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.adress}\r\n                    error={formik.errors.adress}\r\n                />\r\n            </Form.Group>\r\n            <Form.Group widths=\"equal\">\r\n                <Form.Input\r\n                    name=\"city\"\r\n                    type=\"text\"\r\n                    label=\"Ciudad\"\r\n                    placeholder=\"Ciudad\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.city}\r\n                    error={formik.errors.city}\r\n                />\r\n                <Form.Input\r\n                    name=\"state\"\r\n                    type=\"text\"\r\n                    label=\"Estado/Provincia/Region\"\r\n                    placeholder=\"Estado/Provincia/Region\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.state}\r\n                    error={formik.errors.state}\r\n                />\r\n            </Form.Group>\r\n            <Form.Group widths=\"equal\">\r\n                <Form.Input\r\n                    name=\"postalCode\"\r\n                    type=\"text\"\r\n                    label=\"Código postal\"\r\n                    placeholder=\"Código postal\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.postalCode}\r\n                    error={formik.errors.postalCode}\r\n                />\r\n                <Form.Input\r\n                    name=\"phone\"\r\n                    type=\"text\"\r\n                    label=\"Numero de telefono\"\r\n                    placeholder=\"Numero de telefono\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.phone}\r\n                    error={formik.errors.phone}\r\n                />\r\n            </Form.Group>\r\n            <div className=\"actions\">\r\n                <Button className=\"submit\" type=\"submit\" loading={loading} disabled={loading}>\r\n                    {newAdress ? \"Crear direccion\" : \"Actualizar Direccion\"}\r\n                </Button>\r\n            </div>\r\n        </Form>\r\n    )\r\n}\r\n\r\n\r\nfunction initialValues(adress) {\r\n    return {\r\n        title: adress?.title || \"\",\r\n        name: adress?.name || \"\",\r\n        adress: adress?.adress || \"\",\r\n        city: adress?.city || \"\",\r\n        state: adress?.state || \"\",\r\n        postalCode: adress?.postalCode || \"\",\r\n        phone: adress?.postalCode || \"\"\r\n    }\r\n};\r\n\r\nfunction validationSchema() {\r\n    return {\r\n        title: Yup.string().required(true),\r\n        name: Yup.string().required(true),\r\n        adress: Yup.string().required(true),\r\n        city: Yup.string().required(true),\r\n        state: Yup.string().required(true),\r\n        postalCode: Yup.string().required(true),\r\n        phone: Yup.string().required(true),\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}